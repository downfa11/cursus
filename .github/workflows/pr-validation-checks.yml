name: PR Validation Checks

on:
  pull_request:
    types: [opened, synchronize, reopened, ready_for_review]

jobs:
  pr_title_lint:
    name: üè∑Ô∏è PR Title Regex Check
    runs-on: ubuntu-latest
    steps:
      - name: üîç Validate PR Title with Regex
        env:
          PR_TITLE: ${{ github.event.pull_request.title }}
        run: |
          echo "PR Title: $PR_TITLE"
          if [[ ! "$PR_TITLE" =~ ^(feat|fix|docs|chore|refactor|test|build|ci)(\(.+\))?:\  ]]; then
            echo "‚ùå Invalid PR title format."
            echo "‚úÖ Expected format: <type>(optional scope): <description>"
            echo "   e.g. feat(core): add new caching layer"
            exit 1
          fi
          echo "‚úÖ PR title is valid!"
